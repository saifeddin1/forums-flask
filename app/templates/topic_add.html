<!doctype html>
<html>
	<head>
		<title>Topic add</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="\static\forms.css">
		<link rel="stylesheet" href="/static/css/bootstrap.min.css">
		<link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
		
	</head>
	<body>
		<div class="title">
			<h3>Create a new post</h3>
		</div>
		<div class="creation">
			<form action="{{ url_for('topic_add') }}" method="post">
				<h5 id="header5">Title</h5>
				<input type="text" name="title" maxlength="20" />
				<div id="content">
					<h5 id="header55">Write post</h5>
					<textarea name="content" maxlength="200" rows="16"/>
					
					</textarea>
				</div>
				<input type="submit" id="submit_button" value="Create" class="submition"/>
			</form>
		</div>
	</body>
</html>
<script
	src="/static/js/jquery-3.3.1.js">
</script>

<script>
    $(function ()
    {
        $("form").submit(function (event)
        {


	    event.preventDefault();    
        });
	        var topicTitle = $("input[name='title']").val();
			var topicContent = $("input[name='content']").val();
			var topicData = {
			                "title": topicTitle,
			                "content": topicContent
			                };

	        $.ajax({
			    type: "POST",
			    url: "/api/topic/add",
			    data: JSON.stringify(topicData),
			    contentType: "application/json; charset=utf-8",
			    dataType: "json",
			    success: function (response)
			    {
			        alert("Topic added succussfuly !");
			    }
			});        	

    });


</script>

